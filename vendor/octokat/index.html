<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Octokat.js [![Build Status](https://travis-ci.org/philschatz/octokat.js.png)](https://travis-ci.org/philschatz/octokat.js) - Nightscout</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../css/admonitions.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Nightscout</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../nightscout/overview/" class="dropdown-item">Nightscout Overview</a>
</li>
                                    
<li>
    <a href="../../nightscout/new_user/" class="dropdown-item">Create your Nightscout site</a>
</li>
                                    
<li>
    <a href="../../nightscout/setup_variables/" class="dropdown-item">Setup your Nighscout</a>
</li>
                                    
<li>
    <a href="../../nightscout/update_user/" class="dropdown-item">Update your Nighscout</a>
</li>
                                    
<li>
    <a href="../../nightscout/troublehoot/" class="dropdown-item">Troubleshooting</a>
</li>
                                    
<li>
    <a href="../../nightscout/mlab_cleanup/" class="dropdown-item">Nightscout stopped working</a>
</li>
                                    
<li>
    <a href="../../nightscout/ifttt/" class="dropdown-item">IFTTT</a>
</li>
                                    
<li>
    <a href="../../nightscout/pebble/" class="dropdown-item">Pebble</a>
</li>
                                    
<li>
    <a href="../../nightscout/pushover/" class="dropdown-item">Remote Notifications</a>
</li>
                                    
<li>
    <a href="../../nightscout/reports/" class="dropdown-item">Reports</a>
</li>
                                    
<li>
    <a href="../../nightscout/remote-overrides/" class="dropdown-item">Remote Overrides</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Update <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../update/update/" class="dropdown-item">Updating your site</a>
</li>
                                    
<li>
    <a href="../../update/migrate_heroku/" class="dropdown-item">Migrating to Atlas</a>
</li>
                                    
<li>
    <a href="../../update/migrate_azure/" class="dropdown-item">Migrating from Azure</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#octokatjs" class="nav-link">Octokat.js</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#key-features" class="nav-link">Key Features</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#usage" class="nav-link">Usage</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#in-a-browser-without-requirejs" class="nav-link">In a browser without RequireJS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#in-a-browser-using-requirejs" class="nav-link">In a browser using RequireJS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#in-nodejs" class="nav-link">In Node.js</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#using-generators-in-nodejs-011-or-ecmascript-6-browsers" class="nav-link">Using Generators in Node.js 0.11 (or EcmaScript 6 browsers)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#using-bower" class="nav-link">Using bower</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#setup" class="nav-link">Setup</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#promises-optional" class="nav-link">Promises (Optional)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#preview-new-apis" class="nav-link">Preview new APIs</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#enterprise-apis" class="nav-link">Enterprise APIs</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#testing" class="nav-link">Testing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#about-the-library" class="nav-link">About the Library</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#overview" class="nav-link">Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#promises-and-callbacks" class="nav-link">Promises and Callbacks</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#chaining" class="nav-link">Chaining</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#json-with-methods-hypermedia" class="nav-link">JSON with methods (Hypermedia)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#paged-results" class="nav-link">Paged Results</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#development" class="nav-link">Development</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="octokatjs">Octokat.js <a href="https://travis-ci.org/philschatz/octokat.js"><img alt="Build Status" src="https://travis-ci.org/philschatz/octokat.js.png" /></a><a class="headerlink" href="#octokatjs" title="Permanent link">⌁</a></h1>
<p>Octokat.js provides a minimal higher-level wrapper around <a href="https://developer.github.com">GitHub's API</a>.
It is being developed in the context of <a href="https://github.com/oerpub/github-bookeditor">github-bookeditor</a>,
an EPUB3 Textbook editor for GitHub.</p>
<p>This package can also be used in <code>nodejs</code> <strong>or</strong> as an AMD module in the browser.</p>
<h1 id="key-features">Key Features<a class="headerlink" href="#key-features" title="Permanent link">⌁</a></h1>
<ul>
<li>Works in <code>nodejs</code>, an AMD module in the browser, and as a <a href="https://github.com/bower/bower">bower</a> library</li>
<li>Handles text <em>and</em> binary files</li>
<li>Exposes everything available via the GitHub API (repos, teams, events, hooks, emojis, etc.)</li>
<li>Supports <code>ETag</code> caching</li>
<li>Paged results</li>
<li>Node-style callbacks as well as optional Promises (to avoid those debates)</li>
<li>100% of the GitHub API</li>
<li>Starring and Following repositories, users, and organizations</li>
<li>Editing Team and Organization Membership</li>
<li>User/Org/Repo events and notifications</li>
<li>Listeners for rate limit changes</li>
<li>Public Keys</li>
<li>Hooks (commit, comment, etc.)</li>
<li>Uses Angular, jQuery, or native promises if available</li>
<li>Markdown generation</li>
<li>Preview APIs (Deployments, Teams, etc)</li>
<li>Enterprise APIs</li>
</ul>
<p>For the full list of supported methods see the <a href="https://travis-ci.org/philschatz/octokat.js">Travis tests</a>,
the <a href="./test/">./test</a> directory, or <a href="src/grammar.coffee">./src/grammar.coffee</a>.</p>
<h1 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">⌁</a></h1>
<p>All asynchronous methods accept a Node.js-style callback
<strong>and</strong> return a <a href="http://wiki.commonjs.org/wiki/Promises/A">Common-JS Promise</a>.</p>
<h2 id="in-a-browser-without-requirejs">In a browser without RequireJS<a class="headerlink" href="#in-a-browser-without-requirejs" title="Permanent link">⌁</a></h2>
<p>Create an Octokat instance.</p>
<pre><code class="js">var octo = new Octokat({
  username: &quot;USER_NAME&quot;,
  password: &quot;PASSWORD&quot;
});

var cb = function (err, val) { console.log(val); };

octo.zen.read(cb);
octo.repos('philschatz', 'octokat.js').fetch(cb); // Fetch repo info
octo.me.starred('philschatz', 'octokat.js').add(cb); // Star a repo
</code></pre>

<p>Or if you prefer OAuth:</p>
<pre><code class="js">var octo = new Octokat({
  token: &quot;OAUTH_TOKEN&quot;
});
</code></pre>

<h2 id="in-a-browser-using-requirejs">In a browser using RequireJS<a class="headerlink" href="#in-a-browser-using-requirejs" title="Permanent link">⌁</a></h2>
<pre><code class="js">define(['octokat'], function(Octokat) {
  var octo = new Octokat({
    username: &quot;YOU_USER&quot;,
    password: &quot;YOUR_PASSWORD&quot;
  });
});
</code></pre>

<h2 id="in-nodejs">In Node.js<a class="headerlink" href="#in-nodejs" title="Permanent link">⌁</a></h2>
<p>Install instructions:</p>
<pre><code>npm install octokat --save
</code></pre>
<pre><code class="js">var Octokat = require('octokat');
var octo = new Octokat({
  username: &quot;YOU_USER&quot;,
  password: &quot;YOUR_PASSWORD&quot;
});

var cb = function (err, val) { console.log(val); };

octo.zen.read(cb);
octo.repos('philschatz', 'octokat.js').fetch(cb);    // Fetch repo info
octo.me.starred('philschatz', 'octokat.js').add(cb); // Star a repo
</code></pre>

<h2 id="using-generators-in-nodejs-011-or-ecmascript-6-browsers">Using Generators in Node.js 0.11 (or EcmaScript 6 browsers)<a class="headerlink" href="#using-generators-in-nodejs-011-or-ecmascript-6-browsers" title="Permanent link">⌁</a></h2>
<p>This requires Node.js 0.11 with the <code>--harmony-generators</code> flag:</p>
<pre><code class="js">var co = require('co');
var Octokat = require('octokat');
var octo = new Octokat();

var fn = function *() {
  var zen  = yield octo.zen.read();
  var info = yield octo.repos('philschatz', 'octokat.js').fetch();

  console.log(zen);
  console.log(info);
};

co(fn)();
</code></pre>

<h2 id="using-bower">Using bower<a class="headerlink" href="#using-bower" title="Permanent link">⌁</a></h2>
<p>This file can be included using the bower package manager:</p>
<pre><code>bower install octokat --save
</code></pre>
<h1 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">⌁</a></h1>
<p>This is all you need to get up and running:</p>
<pre><code>&lt;script src="../dist/octokat.js"&gt;&lt;/script&gt;
&lt;script&gt;
  var octo = new Octokat();
  octo.zen.read(function(err, message) {
    if (err) { throw new Error(err); }
    alert(message);
  });
&lt;/script&gt;
</code></pre>
<h2 id="promises-optional">Promises (Optional)<a class="headerlink" href="#promises-optional" title="Permanent link">⌁</a></h2>
<p><code>octokat.js</code> has the following <strong>optional</strong> dependencies when used in a browser:</p>
<ul>
<li>A Promise API (supports jQuery, AngularJS, or a Promise polyfill)</li>
</ul>
<p>If you are already using <a href="https://api.jquery.com/jQuery.Deferred/">jQuery</a>
or <a href="https://docs.angularjs.org/api/ng/service/$q">AngularJS</a> in your project just be sure to include them before Octokat
and it will use their Promise API.</p>
<p>Otherwise, you can include a Promise polyfill like <a href="https://github.com/jakearchibald/es6-promise">jakearchibald/es6-promise</a>:</p>
<pre><code>&lt;script src="./node_modules/es6-promise/dist/promise-0.1.2.js"&gt;&lt;/script&gt;
&lt;script src="./octokat.js"&gt;
</code></pre>
<h1 id="preview-new-apis">Preview new APIs<a class="headerlink" href="#preview-new-apis" title="Permanent link">⌁</a></h1>
<p>To use the APIs available for preview just add a <code>acceptHeader</code> when instantiating Octokat.</p>
<p>For example:</p>
<pre><code class="js">var octo = new Octokat({
  token: 'API_TOKEN'
  acceptHeader: 'application/vnd.github.cannonball-preview+json'
});
</code></pre>

<h1 id="enterprise-apis">Enterprise APIs<a class="headerlink" href="#enterprise-apis" title="Permanent link">⌁</a></h1>
<p>To use the Enterprise APIs add the root URL when instantiating Octokat:</p>
<pre><code class="js">var octo = new Octokat({
  token: 'API_TOKEN'
  rootUrl: 'https://example.com/api/v3/'
});
</code></pre>

<h1 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">⌁</a></h1>
<p><code>npm test</code> will run the mocha tests for Node.js and the browser.
Additionally, they can be run in the browser by starting a web server
and going to <a href="http://philschatz.com/octokat.js/test">./test/index.html</a>.</p>
<h1 id="about-the-library">About the Library<a class="headerlink" href="#about-the-library" title="Permanent link">⌁</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">⌁</a></h2>
<p>This library closely mirrors the <a href="https://developer.github.com/v3">https://developer.github.com/v3</a> documentation.</p>
<p>For example, <code>GET /repos/:owner/:repo</code> becomes <code>octo.repos(owner, repo).fetch()</code>
and <code>POST /repos/:owner/:repo/issues/:number/comments</code> becomes <code>octo.repos(owner, repo).issues(number).comments.create(params)</code>.</p>
<h2 id="promises-and-callbacks">Promises and Callbacks<a class="headerlink" href="#promises-and-callbacks" title="Permanent link">⌁</a></h2>
<p>This library supports Node.js-style callbacks as well as Promises.</p>
<p>To use a callback, just specify it as the last argument to a method.
To use a Promise, do not specify a callback and the return value will be a Promise.</p>
<p>Example (get information on a repo):</p>
<pre><code># Using callbacks
octo.repos('philschatz', 'octokat.js').fetch (err, repo) -&gt;
  console.error(err) if err
  # Do fancy stuff...

# Using Promises
octo.repos('philschatz', 'octokat.js').fetch()
.then (repo) -&gt;
  # Do fancy stuff
.then null, (err) -&gt; console.error(err)
</code></pre>
<h2 id="chaining">Chaining<a class="headerlink" href="#chaining" title="Permanent link">⌁</a></h2>
<p>You construct the URL by chaining properties and methods together
and an async call is made once a verb method is called (see below).</p>
<p>Example:</p>
<pre><code>octo = new Octokat()
repo = octo.repos('philschatz', 'octokat.js')
# Check if the current user is a collaborator on a repo
repo.collaborators.contains(USER)
.then (isCollaborator) -&gt;
  # If not, then star the Repo
  unless isCollaborator
    repo.star.add()
    .then () -&gt;
      # Done!
</code></pre>
<p>Or, update a specific comment:</p>
<pre><code>octo = new Octokat(token: ...)
octo.repos('philschatz', 'octokat.js').issues(1).comments(123123).update(body: 'Hello')
.then () -&gt;
  # Done!
</code></pre>
<p>The basic structure of these methods is:</p>
<ul>
<li><code>.foos.fetch({optionalStuff:...})</code> yields a list of items (possibly paginated)</li>
<li><code>.foos(id).fetch(...)</code> yields a single item (issue, repo, user)</li>
<li><code>.foos.contains(id)</code> tests membership in a list (yields true/false)</li>
<li><code>.foos.create(...)</code> creates a new <code>foo</code></li>
<li><code>.foos(id).add()</code> adds an existing User/Repo to the list</li>
<li><code>.foos(id).remove()</code> removes a member from a list or deletes the object and yields a boolean indicating success</li>
</ul>
<h2 id="json-with-methods-hypermedia">JSON with methods (Hypermedia)<a class="headerlink" href="#json-with-methods-hypermedia" title="Permanent link">⌁</a></h2>
<p>GitHub provides URL patterns in its JSON responses. These are automatically converted into methods.
For example:</p>
<pre><code>octo.repos('philschatz', 'octokat.js').fetch()
.then (repo) -&gt;
  # GitHub returns a JSON which contains something like compare_url: 'https://..../compare/{head}...{base}
  # This is converted to a method that accepts 2 arguments
  repo.compare(sha1, sha2).fetch()
  .then (comparison) -&gt; # Done!
</code></pre>
<h2 id="paged-results">Paged Results<a class="headerlink" href="#paged-results" title="Permanent link">⌁</a></h2>
<p>If a <code>.fetch()</code> returns paged results then <code>nextPage()</code>, <code>previousPage()</code>, <code>firstPage()</code>
and <code>lastPage()</code> are added to the returned JSON. For example:</p>
<pre><code>octo.repos('philschatz', 'octokat.js').commits.fetch()
.then (someCommits) -&gt;
  someCommits.nextPage()
  .then (moreCommits) -&gt;
    # Done!
</code></pre>
<h2 id="development">Development<a class="headerlink" href="#development" title="Permanent link">⌁</a></h2>
<ul>
<li>Run <code>npm install</code></li>
<li>Run <code>grunt dist</code> to generate the files in the <code>./dist</code> directory</li>
</ul>
<p>The unit tests are named to illustrate examples of using the API.
See <a href="https://travis-ci.org/philschatz/octokat.js">Travis tests</a> or run <code>npm test</code> to see them.</p>
<p><a href="https://github.com/linkedin/sepia">linkedin/sepia</a> is used to generate recorded results from GitHub
and <a href="https://github.com/philschatz/sepia.js">philschatz/sepia.js</a> uses them in the browser.
If you are adding tests be sure to include the updated fixtures in the Pull Request.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
